(this.webpackJsonpexam_prep2_frontend=this.webpackJsonpexam_prep2_frontend||[]).push([[0],{12:function(e,t,a){},21:function(e,t,a){e.exports=a(32)},26:function(e,t,a){},32:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),o=a(9),c=a.n(o),r=(a(26),a(5)),u=a(8),s=a(10);a(12);var m=function(e){var t=e.isLoggedIn,a=e.loginMsg,n=e.username;return l.a.createElement("div",null,l.a.createElement("ul",{className:"header"},l.a.createElement("li",null,l.a.createElement(s.b,{exact:!0,activeClassName:"active",to:"/"},"Home")),l.a.createElement("li",null,l.a.createElement(s.b,{activeClassName:"active",to:"/jokes"},"Jokes ",t?"V2":"Demo")),l.a.createElement("li",null,l.a.createElement(s.b,{activeClassName:"active",to:"/login-out"},a," ",l.a.createElement("small",null,n&&"(".concat(n,")"))))))};var i=function(){return l.a.createElement("div",null,l.a.createElement("h2",null,"Home"),l.a.createElement("p",null,"Discribe how to use the front-end."))},g=a(20);var E=function(e){var t=e.items,a=e.getItems,o=Object(n.useState)(!1),c=Object(r.a)(o,2),u=c[0],s=c[1],m=Object(n.useState)([]),i=Object(r.a)(m,2),E=i[0],f=i[1],d=[{label:"career",value:1},{label:"celebrity",value:2},{label:"dev",value:3},{label:"explicit",value:4},{label:"fashion",value:5},{label:"food",value:6},{label:"history",value:7},{label:"money",value:8},{label:"movie",value:9},{label:"music",value:10},{label:"political",value:11},{label:"science",value:12},{label:"sport",value:13},{label:"travel",value:14}];return l.a.createElement("div",null,l.a.createElement("h2",null,"Jokes"),l.a.createElement(g.a,{isMulti:!0,onChange:function(e){var t=e.length===d.length;f(e),f(e),s(!!t),console.log("opt",e),console.log("sel",E),E.length>4&&alert("Max 4 categories when in demo")},options:d,value:E}),l.a.createElement("p",null,l.a.createElement("input",{onChange:function(e){var t=!u;s(t),f(t?d:f)},type:"checkbox",id:"selectAll",value:"selectAll",checked:u}),l.a.createElement("label",{htmlFor:"selectAll"},"Select all")),l.a.createElement("br",null),l.a.createElement("button",{onClick:function(){a(E.map((function(e){return e.label})).toString())}},"Get jokes"),l.a.createElement("table",{className:"table"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Category"),l.a.createElement("th",null,"Joke"))),l.a.createElement("tbody",null,t.map((function(e){return l.a.createElement("tr",{key:e.id},l.a.createElement("td",null,e.categories),l.a.createElement("td",null,e.value))})))))};function f(e){var t=e.isLoggedIn,a=e.login,o=e.logout,c=Object(n.useState)(""),u=Object(r.a)(c,2),s=u[0],m=u[1],i=Object(n.useState)(""),g=Object(r.a)(i,2),E=g[0],f=g[1];return l.a.createElement("div",null,!t&&l.a.createElement(l.a.Fragment,null,l.a.createElement("h2",null,"Login"),l.a.createElement("form",{onChange:function(e){},onSubmit:function(){a(s,E)}},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Username"),l.a.createElement("input",{type:"text",className:"form-control",id:"username",placeholder:"User name",onChange:function(e){return m(e.target.value)}})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Password"),l.a.createElement("input",{type:"password",className:"form-control",id:"password",placeholder:"Password",onChange:function(e){return f(e.target.value)}})),l.a.createElement("div",{className:"form-group"},l.a.createElement("div",{className:"col-sm-offset-3 col-sm-9"},l.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Submit"))))),t&&l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"modal-content"},l.a.createElement("div",{className:"modal-header"},l.a.createElement("h4",null,"Logout")),l.a.createElement("div",{className:"modal-body"},"Are you sure you want to log-off?"),l.a.createElement("div",{className:"modal-footer"},l.a.createElement("button",{onClick:o,className:"btn btn-primary btn-block"},"Logout")))))}function d(){return l.a.createElement("div",null,l.a.createElement("h2",null,"This URL does not exist!"))}var v=function(e){var t=e.apiFacade,a=(e.match,Object(n.useState)(!1)),o=Object(r.a)(a,2),c=o[0],s=o[1],g=Object(n.useState)(""),v=Object(r.a)(g,2),b=v[0],p=v[1],h=Object(n.useState)([{id:"",title:"No data",info:""}]),j=Object(r.a)(h,2),y=j[0],k=j[1],N=Object(u.f)();Object(n.useEffect)((function(){}),[t]);var O=function(e){console.log("getItems:",e),t.getItems(e).then((function(e){e=e.filter((function(e){return null!==e})),console.log(e),k(e)})).catch((function(e){return console.log("Ups refreshitems:"+e)}))};return l.a.createElement("div",null,l.a.createElement(m,{loginMsg:c?"Logout":"Login",isLoggedIn:c,username:b}),l.a.createElement(u.c,null,l.a.createElement(u.a,{exact:!0,path:"/"},l.a.createElement(i,null)),l.a.createElement(u.a,{path:"/jokes",exact:!0},l.a.createElement(E,{items:y,getItems:O})),l.a.createElement(u.a,{path:"/login-out"},l.a.createElement(f,{isLoggedIn:c,login:function(e,a){console.log(e,a),t.login(e,a).then((function(a){s(t.loggedIn),p(e),O(),console.log(y),N.push("/jokes")})).catch((function(e){console.log("Ups login:"+e)})),N.push("/home")},logout:function(){t.logout(),s(t.loggedIn),p(""),N.push("/")}})),l.a.createElement(u.a,null,l.a.createElement(d,null))))},b="https://aieou.dk/exam_prep2/api";var p=function(){var e=function(e,t,n){var o={method:e,headers:{"Content-type":"application/json",Accept:"application/json"}};return t&&l()&&(o.headers["x-access-token"]=a()),n&&(o.body=JSON.stringify(n)),o};function t(e){return console.log(e),e.ok?e.json():(n(),Promise.reject({status:e.status,fullError:e.json()}))}var a=function(){return localStorage.getItem("jwtToken")},n=function(){localStorage.removeItem("jwtToken")},l=function(){var e=null!=a();return e};return{login:function(a,n){var l=e("POST",!0,{username:a,password:n});return fetch(b+"/login",l).then(t).then((function(e){var t;t=e.token,localStorage.setItem("jwtToken",t),console.log("apiFacade-login: ",e.token)}))},logout:function(){n()},loggedIn:l,getItems:function(a){console.log("getItems: ",b,l()),console.log("gi:",b+(l()?"/jokeByCategoryV2/":"/jokeByCategory/")+a);var n=e("GET",!0);return fetch(b+(l()?"/jokeByCategoryV2/":"/jokeByCategory/")+a,n).then(t)}}}();c.a.render(l.a.createElement((function(){return l.a.createElement("div",{style:{marginLeft:"5%",marginRight:"5%"}},l.a.createElement(s.a,null,l.a.createElement(v,{apiFacade:p})))}),null),document.getElementById("root"))}},[[21,1,2]]]);
//# sourceMappingURL=main.e1ef65e2.chunk.js.map